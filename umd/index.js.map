{"version":3,"file":"index.js","sources":["../src/DirtyTracker.js","../src/utils.js","../src/ExtensionMethods.js","../src/DirtyTransform.js"],"sourcesContent":["class DirtyTracker {\n\n    constructor() {\n        this.dirtyTransforms = [];\n        this.dirtyBounds = [];\n    }\n\n    /* Public Functions */\n    updateAllTransforms() {\n        const dt = this.dirtyTransforms;\n        for (let i = 0; i < dt.length; i++) {\n            this.updateTransform(dt[i]);\n        }\n        this.dirtyTransforms.length = 0;\n    }\n\n    updateAllBounds() {\n        const db = this.dirtyBounds;\n        for (let i = 0; i < db.length; i++) {\n            this.updateBounds(db[i]);\n        }\n        this.dirtyBounds.length = 0;\n    }\n\n    updateAll() {\n        this.updateAllTransforms();\n        this.updateAllBounds();\n    }\n\n    /* Override-able Functions */\n    onTransformDirty(obj) {\n        this.dirtyTransforms.push(obj);\n    }\n\n    updateTransform(obj) {\n        obj.updateTransform();\n    }\n\n    onBoundsDirty(obj) {\n        this.dirtyBounds.push(obj);\n    }\n\n    updateBounds(obj) {\n        obj.updateBounds();\n    }\n\n}\n\nconst DefaultDirtyTracker = new DirtyTracker();\nlet currentDirtyTracker = DefaultDirtyTracker;\n\nfunction setActiveDirtyTracker(db) {\n    currentDirtyTracker = db;\n}\n\nfunction getActiveDirtyTracker() {\n    return currentDirtyTracker;\n}\n\nexport { DirtyTracker, DefaultDirtyTracker, setActiveDirtyTracker, getActiveDirtyTracker };\n","import { Vector3 } from 'three';\n\nconst v = new Vector3();\nfunction expandBox(tg, box, matrix) {\n\n    for (let x = 0; x <= 1; x++) {\n        for (let y = 0; y <= 1; y++) {\n            for (let z = 0; z <= 1; z++) {\n\n                const bmin = box.min;\n                const bmax = box.max;\n                v.x = x * bmin.x + (1 - x) * bmax.x;\n                v.y = y * bmin.y + (1 - y) * bmax.y;\n                v.z = z * bmin.z + (1 - z) * bmax.z;\n\n                v.applyMatrix4(matrix);\n\n                tg.min.x = Math.min(v.x, tg.min.x);\n                tg.min.y = Math.min(v.y, tg.min.y);\n                tg.min.z = Math.min(v.z, tg.min.z);\n\n                tg.max.x = Math.max(v.x, tg.max.x);\n                tg.max.y = Math.max(v.y, tg.max.y);\n                tg.max.z = Math.max(v.z, tg.max.z);\n\n            }\n        }\n    }\n}\n\nexport { expandBox };\n","import { Box3, Sphere } from 'three';\nimport { getActiveDirtyTracker } from './DirtyTracker.js';\nimport { expandBox } from './utils.js';\n\n// TODO: This will not interop with the current THREE.Object3D object because it\n// assumes that all the new fields are available\n\nfunction bindUpdateToField(self, obj, field) {\n\n    const str = `_${ field }`;\n    Object.defineProperty(obj, field, {\n\n        get() {\n            return this[str];\n        },\n\n        set(v) {\n            this[str] = v;\n            self.setTransformDirty();\n        },\n\n    });\n\n};\n\nconst dirtyTransformFunctions = {\n\n    /* Overrides */\n    updateMatrix: function() {\n        this.updateTransform();\n    },\n\n    updateMatrixWorld: function() {\n        this.updateTransform();\n    },\n\n    updateWorldMatrix: function() {\n        this.updateTransform();\n    },\n\n    /* Private Functions */\n    setTransformDirty: function() {\n\n        if (this.transformDirty === false) {\n\n            this.transformDirty = true;\n            this.dirtyTracker.onTransformDirty(this);\n\n            const children = this.children;\n            for (let i = 0; i < children; i++) {\n\n                children.setTransformDirty(false);\n\n            }\n\n        }\n\n    },\n\n    updateTransform: function() {\n\n        if (this.transformDirty) {\n\n            if (this.parent) {\n\n                this.parent.updateTransform();\n\n            }\n\n            // Update local and world matrices\n            this.matrix.compose(this.position, this.quaternion, this.scale);\n\n            if (this.parent) {\n                this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n            } else {\n                this.matrixWorld.copy(this.matrix);\n            }\n\n            this.transformDirty = false;\n            this.setBoundsDirty();\n\n        }\n\n    },\n\n    setBoundsDirty: function() {\n\n        if (this.boundsDirty === false) {\n\n            this.boundsDirty = true;\n            this.dirtyTracker.onBoundsDirty(this);\n\n            if (this.parent) {\n                this.parent.setBoundsDirty();\n            }\n\n        }\n\n    },\n\n    updateBounds: function() {\n\n        if (!('geometry' in this) && this.boundsDirty) {\n\n            const children = this.children;\n            const bb = this._boundingBox || new Box3();\n            const sp = this._boundingSphere || new Sphere();\n\n            if (children.length !== 0) {\n                bb.min.set(1, 1, 1).multiplyScalar(Infinity);\n                bb.max.set(1, 1, 1).multiplyScalar(-Infinity);\n\n                for (let i = 0; i < children; i++) {\n                    const c = children[i];\n                    c.updateBounds();\n\n                    expandBox(bb, c.boundingBox, c.matrix);\n                }\n\n                bb.getBoundingSphere(sp);\n            } else {\n                bb.min.set(0, 0, 0);\n                bb.max.set(0, 0, 0);\n                sp.radius = 0;\n                sp.center.set(0, 0, 0);\n            }\n\n        }\n\n        this.boundsDirty = false;\n\n    },\n\n};\n\nconst applyDirtyMembers =\n    obj => {\n\n        // Define getters and setters\n        obj._parent = obj.parent;\n        Object.defineProperties(obj, {\n\n            boundingBox: {\n                get() {\n                    if ('geometry' in this) {\n                        return (this.geometry && this.geometry.boundingBox) || null;\n                    } else {\n                        return this._boundingBox;\n                    }\n                },\n            },\n\n            boundingSphere: {\n                get() {\n                    if ('geometry' in this) {\n                        return (this.geometry && this.geometry.boundingSphere) || null;\n                    } else {\n                        return this._boundingSphere || null;\n                    }\n                },\n            },\n\n            parent: {\n                get() {\n                    return this._parent;\n                },\n\n                set(p) {\n                    if (this._parent !== p) {\n                        this._parent.setBoundsDirty();\n                        this._parent = p;\n                        this.setTransformDirty();\n                    }\n                },\n            },\n\n        });\n\n        // Define member variables\n        // The dirty tracker this object is being tracked by.\n        obj.dirtyTracker = getActiveDirtyTracker();\n\n        // indicates that the position, scale, rotation has changed\n        // and the local and world matrices need to be updated.\n        obj.transformDirty = false;\n\n        // indicates that the transform has changed and the bounds are\n        // out of sync\n        obj.boundsDirty = false;\n\n        // Add change callbacks\n        // Watch for dirty changes to the transform\n        // Rotation\n        const ogRotationChange = obj.rotation.onChangeCallback.bind(obj.rotation);\n        obj.rotation.onChange(() => {\n            ogRotationChange();\n            obj.setTransformDirty();\n        });\n\n        // Quaternion\n        const ogQuaternionChange = obj.quaternion.onChangeCallback.bind(obj.quaternion);\n        obj.quaternion.onChange(() => {\n            ogQuaternionChange();\n            obj.setTransformDirty();\n        });\n\n        // Position\n        bindUpdateToField(obj, obj.position, 'x');\n        bindUpdateToField(obj, obj.position, 'y');\n        bindUpdateToField(obj, obj.position, 'z');\n\n        // Scale\n        bindUpdateToField(obj, obj.scale, 'x');\n        bindUpdateToField(obj, obj.scale, 'y');\n        bindUpdateToField(obj, obj.scale, 'z');\n\n        Object.assign(obj, dirtyTransformFunctions);\n\n    };\n\nexport { applyDirtyMembers };\n","import { Object3D } from 'three';\nimport { getActiveDirtyTracker, setActiveDirtyTracker } from './DirtyTracker.js';\nimport { applyDirtyMembers } from './ExtensionMethods.js';\n\nconst DirtyTransformMixin =\n    base => class extends base {\n\n        constructor() {\n\n            super(...arguments);\n\n            applyDirtyMembers(this);\n\n            this.updateBounds();\n        }\n\n    };\n\nconst ApplyDirtyTransform = (obj, dirtyTracker = null) => {\n\n    const ogDt = getActiveDirtyTracker();\n    dirtyTracker = dirtyTracker || ogDt();\n\n    setActiveDirtyTracker(dirtyTracker);\n\n    obj.traverse(c => {\n        applyDirtyMembers(c);\n    });\n\n    setActiveDirtyTracker(ogDt);\n\n};\n\nconst DirtyObject3D = DirtyTransformMixin(Object3D);\n\nexport { DirtyTransformMixin, DirtyObject3D, ApplyDirtyTransform };\n"],"names":["Vector3","Box3","Sphere","Object3D"],"mappings":"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"}